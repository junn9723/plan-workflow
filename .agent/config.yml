# チーム構成・ロール・ワークフロー定義 (ビジネス向け)

# === ロール定義 ===
roles:
  pm:          { responsibilities: "全体統括・タスク管理・品質管理。自らタスク実行しない", assigned_to: "Claude Code (メインセッション)" }
  researcher:  { responsibilities: "市場調査・競合分析・情報収集・トレンド分析", recommended: "Claude Code" }
  strategist:  { responsibilities: "戦略立案・フレームワーク適用・ポジショニング", recommended: "Claude Code" }
  analyst:     { responsibilities: "定量分析・財務モデリング・KPI設計", recommended: "Claude Code" }
  writer:      { responsibilities: "ドキュメント構成・執筆・エグゼクティブサマリー", recommended: "Claude Code" }
  editor:      { responsibilities: "統合編集・整合性検証・品質レビュー", recommended: "Claude Code" }

# === チーム編成例 ===
# プロジェクト種別          → 推奨構成
# 事業計画書               → リサーチャー + アナリスト + ストラテジスト + ライター + エディター
# 市場調査レポート          → リサーチャー×2 + アナリスト + エディター
# 競合分析                 → リサーチャー + ストラテジスト + エディター
# 企画書・提案書            → リサーチャー + ストラテジスト + ライター + エディター
# 財務分析                 → アナリスト×2 + エディター
#
# PMはプロジェクトに応じて柔軟に構成。1名が複数アーキタイプ兼務も可。
# エディター(統合・品質担当)は原則必須。

# === フェーズ定義 ===
phases:
  phase_1: { name: "ブリーフィング",     actor: [pm],                    exit: "ブリーフ作成済、タスクアサイン済、チーム編成済" }
  phase_2: { name: "調査・分析",         actor: [researcher, analyst],   exit: "調査完了、workspace/research/ にデータ保存" }
  phase_3: { name: "ドラフト作成",       actor: [strategist, writer, analyst], exit: "全セクション執筆完了、workspace/drafts/ に保存" }
  phase_4: { name: "統合・レビュー",     actor: [editor],                exit: "統合完了、整合性確認済、レビュー合格" }
  phase_5: { name: "最終化・納品",       actor: [pm],                    exit: "docs/ に成果物配置、FINAL_REPORT.md作成" }

# === 統合レビューループ ===
review_loop:
  max_iterations: 3
  on_max: "PMに差し戻し、根本原因分析、knowledge.mdに記録"

# === タスクステータス ===
task_statuses: [CREATED, IN_PROGRESS, SELF_REVIEW, IN_REVIEW, REVISION, APPROVED, DONE]
# IN_REVIEW: エディターレビュー中 / REVISION: 差し戻し修正中

# === ツール ===
tools:
  claude_code:
    available: ["ファイル操作", "Bash/Task", "Playwright MCP", "Context7 MCP", "o3-search MCP"]
    primary_use: "全メンバーのメイン作業環境"
